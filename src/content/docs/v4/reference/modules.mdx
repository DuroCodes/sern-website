---
title: Modules 
sidebar:
  order: 2
---
## Introduction 
sern operates with modules. At its core, Modules contain a `type` field and `execute`, with some code to possibly run before
executing.
### Modules

We'll walk you through creating your first command module.

If you installed a new project via the CLI, your file should be here:

import { FileTree } from '@astrojs/starlight/components';

<FileTree>
- src/commands/
    - **ping.ts** **(right here, probably)**
- ...
</FileTree>


```ts title="src/commands/ping.ts"
import { commandModule, CommandType } from "@sern/handler";

export default commandModule({
  type: CommandType.Both,
  description: "A ping command",
  execute: async (ctx, sdt) => {
    await ctx.reply("Pong üèì");
  },
});
```
:::tip 
Run `sern commands publish` so discord registers it to your application correctly.
:::


import { Tabs, TabItem } from '@astrojs/starlight/components';

## Modal 
So, lets say you want to make a command module that listens to modals.

:::tip
Keep in mind, you'll need to send a modal with a custom id of `dm-me`. This example below is the response to a modal being sent.
:::


<Tabs syncKey="language-preference">
  <TabItem value="js" label="Send Modal">
    ```js title="src/commands/ping.js"
    import { CommandType, commandModule } from "@sern/handler";
    import { ModalBuilder, ActionRowBuilder } from 'discord.js';
    export default commandModule({
        type: CommandType.Slash,
        description: "A ping command",
        execute: async (ctx, sdt) => {
            const modal = new ModalBuilder()
		            .setCustomId('dm-me')
		            .setTitle('My Modal'); 

            const hobbiesInput = new TextInputBuilder()
                    .setCustomId('dmmsg')
                    .setLabel("What do you want to send to me")
                    .setStyle(TextInputStyle.Paragraph);

            // An action row only holds one text input,
            const row = new ActionRowBuilder().addComponents(hobbiesInput);

            // Add inputs to the modal
            modal.addComponents(row);
            await ctx.interaction.showModal(modal);
            await ctx.reply("Pong üèì");
        },
    });
    ```
  </TabItem>
  <TabItem value="ts" label="Modal Listener">
    ```ts title="src/commands/dm-me.js"
    import { CommandType, commandModule } from "@sern/handler";

    export default commandModule({
      type: CommandType.Modal,
      async execute(modal) {
        const value = modal.fields.getTextInputValue("message");
        modal.client.users
          .fetch("182326315813306368")
          .then(usr => usr.send(value + ` from ${modal.user}`));
        modal.reply({ ephemeral: true, content: "Sent" });
      },
    });    
    ```
  </TabItem>
</Tabs>
